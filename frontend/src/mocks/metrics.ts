import type { Metric, Dimension, BusinessTerm } from '@/types'

export const MOCK_METRICS: Metric[] = [
  {
    id: 'met-1',
    userId: 'u1',
    name: 'total_sales',
    displayName: '销售总额',
    description: '所有已完成订单的销售金额总和（含税）',
    formula: 'SUM(order_items.price * order_items.quantity)',
    dataTableId: 'dt-1',
    dataTableName: '订单明细表',
    aggregation: 'SUM',
    unit: '元',
    tags: ['核心', '销售'],
    status: 'active',
    createdAt: '2025-12-01T08:00:00Z',
    updatedAt: '2026-01-15T10:30:00Z',
  },
  {
    id: 'met-2',
    userId: 'u1',
    name: 'order_count',
    displayName: '订单量',
    description: '统计周期内已支付订单的数量',
    formula: 'COUNT(DISTINCT orders.id)',
    dataTableId: 'dt-2',
    dataTableName: '订单表',
    aggregation: 'COUNT',
    unit: '单',
    tags: ['核心', '销售'],
    status: 'active',
    createdAt: '2025-12-01T08:00:00Z',
    updatedAt: '2026-01-15T10:30:00Z',
  },
  {
    id: 'met-3',
    userId: 'u1',
    name: 'avg_order_value',
    displayName: '客单价',
    description: '平均每笔订单的金额',
    formula: 'SUM(orders.amount) / COUNT(DISTINCT orders.id)',
    dataTableId: 'dt-2',
    dataTableName: '订单表',
    aggregation: 'AVG',
    unit: '元',
    tags: ['销售', '用户'],
    status: 'active',
    createdAt: '2025-12-05T08:00:00Z',
    updatedAt: '2026-01-20T09:00:00Z',
  },
  {
    id: 'met-4',
    userId: 'u1',
    name: 'gross_margin_rate',
    displayName: '毛利率',
    description: '(收入 - 成本) / 收入 × 100%',
    formula: '(SUM(revenue) - SUM(cost)) / SUM(revenue) * 100',
    dataTableId: 'dt-3',
    dataTableName: '财务汇总表',
    aggregation: 'AVG',
    unit: '%',
    tags: ['财务'],
    status: 'draft',
    createdAt: '2026-01-10T08:00:00Z',
    updatedAt: '2026-02-01T11:00:00Z',
  },
  {
    id: 'met-5',
    userId: 'u1',
    name: 'return_rate',
    displayName: '退货率',
    description: '退货订单数 / 总订单数 × 100%',
    formula: 'COUNT(returns.id) / COUNT(orders.id) * 100',
    dataTableId: 'dt-2',
    dataTableName: '订单表',
    aggregation: 'AVG',
    unit: '%',
    tags: ['售后'],
    status: 'deprecated',
    createdAt: '2025-11-20T08:00:00Z',
    updatedAt: '2026-01-05T14:00:00Z',
  },
  {
    id: 'met-6',
    userId: 'u1',
    name: 'active_users',
    displayName: '活跃用户数',
    description: '统计周期内至少登录一次的独立用户数',
    formula: 'COUNT(DISTINCT user_events.user_id)',
    dataTableId: 'dt-4',
    dataTableName: '用户行为表',
    aggregation: 'COUNT',
    unit: '人',
    tags: ['用户', '核心'],
    status: 'active',
    createdAt: '2025-12-15T08:00:00Z',
    updatedAt: '2026-02-10T16:00:00Z',
  },
]

export const MOCK_DIMENSIONS: Dimension[] = [
  {
    id: 'dim-1',
    userId: 'u1',
    name: 'product_category',
    displayName: '产品类目',
    description: '商品所属的一级分类',
    sourceColumn: 'products.category',
    dataTableId: 'dt-5',
    dataTableName: '商品表',
    dimType: 'categorical',
    createdAt: '2025-12-01T08:00:00Z',
  },
  {
    id: 'dim-2',
    userId: 'u1',
    name: 'order_date',
    displayName: '日期',
    description: '订单创建日期',
    sourceColumn: 'orders.created_at',
    dataTableId: 'dt-2',
    dataTableName: '订单表',
    dimType: 'temporal',
    createdAt: '2025-12-01T08:00:00Z',
  },
  {
    id: 'dim-3',
    userId: 'u1',
    name: 'region',
    displayName: '地区',
    description: '客户所在省份或地区',
    sourceColumn: 'customers.region',
    dataTableId: 'dt-6',
    dataTableName: '客户表',
    dimType: 'categorical',
    createdAt: '2025-12-10T08:00:00Z',
  },
  {
    id: 'dim-4',
    userId: 'u1',
    name: 'customer_level',
    displayName: '客户等级',
    description: '客户会员等级（普通/银卡/金卡/钻石）',
    sourceColumn: 'customers.level',
    dataTableId: 'dt-6',
    dataTableName: '客户表',
    dimType: 'categorical',
    createdAt: '2026-01-05T08:00:00Z',
  },
]

export const MOCK_TERMS: BusinessTerm[] = [
  {
    id: 'term-1',
    userId: 'u1',
    term: 'GMV',
    canonicalName: '销售总额',
    description: 'Gross Merchandise Volume，商品交易总额',
    sqlExpression: 'SUM(order_items.price * order_items.quantity)',
    synonyms: '总销售额,交易额,GMV',
    createdAt: '2025-12-01T08:00:00Z',
  },
  {
    id: 'term-2',
    userId: 'u1',
    term: 'DAU',
    canonicalName: '日活跃用户',
    description: 'Daily Active Users，每日活跃用户数',
    sqlExpression: "COUNT(DISTINCT user_events.user_id) WHERE date = CURRENT_DATE",
    synonyms: '日活,日活用户,每日活跃',
    createdAt: '2025-12-10T08:00:00Z',
  },
  {
    id: 'term-3',
    userId: 'u1',
    term: 'ARPU',
    canonicalName: '人均收入',
    description: 'Average Revenue Per User，每用户平均收入',
    sqlExpression: 'SUM(orders.amount) / COUNT(DISTINCT orders.user_id)',
    synonyms: '客均收入,用户平均收入,ARPU值',
    createdAt: '2026-01-15T08:00:00Z',
  },
]
